securityDefinitions:
 APIKeyHeader:
     type: apiKey
     in: header
     name: X-API-Key

definitions:
 ApiAck:
     type: object
     required:
         - ack
     properties:
         ack:
             type: string
 SceneId:
     type: object
     required:
         - sceneId
     properties:
         sceneId:
             type: string
 SceneName:
     type: object
     required:
         - sceneName
     properties:
         sceneName:
             type: string
 ThemeId:
     type: object
     required:
         - theme
     properties:
         theme:
             type: string
 PlayScenesAndThemes:
     type: object
     properties:
         scenes:
             type: array
             items:
                 type: string
         themes:
             type: array
             items:
                 type: string
 Play:
     type: object
     required:
         - play
         - roomId
     properties:
         roomId:
             type: string
         play:
             type: object
             $ref: '#/definitions/PlayScenesAndThemes'
 SceneAudioRescale:
     type: object
     required:
         - sceneId
         - rescaleFactor
     properties:
         sceneId:
             type: string
         rescaleFactor:
             type: number
 SceneVisualLayerChange:
     type: object
     required:
         - sceneId
         - rescaleFactor
     properties:
         sceneId:
             type: string
         visualLayer:
             type: number
 PlayScenes:
     type: object
     required:
         - media
         - roomId
     properties:
         roomId:
             type: string
         scenes:
             type: array
             items:
                 type: string
 PlayScene:
     type: object
     required:
         - roomId:
         - scene
     properties:
         roomId:
             type: string
             description: The playback room
         scene:
             type: string
 Password:
     type: object
     required:
         - password
     properties:
         password:
             type: string
 Username:
     type: object
     required:
         - username
     properties:
         username:
             type: string
 AuthCreds:
     type: object
     require:
         - username,
         - password
     properties:
         username:
             type: string
         password:
             type: string
 SessionResult:
     type: object
     properties:
         token:
             type: string
         roomId:
             type: string
         groupId:
             type: string
 PlaySceneTheme:
     type: object
     properties:
         roomId:
             type: string
         sceneTheme:
             type: object
             $ref: '#/definitions/SceneTheme'
 SceneTheme:
     type: object
     properties:
         scene:
             type: string
             description: String Scene Id
         theme:
             type: string
             description: String theme
 SceneThemes:
     type: array
     items:
         $ref: '#/definitions/SceneTheme'
 PlayTheme:
     type: object
     properties:
         roomId:
             type: string
         theme:
             type: string
 SetTagMatcher:
     type: string
     description: A valid tag matcher string, bool tag matching allowed
 MediaSceneForListSchema:
     type: object
     required:
         - _id
         - name
         - _groupID
     properties:
         _id:
             type: string
         name:
             type: string
         _groupID:
             type: integer
 SceneList:
     type: array
     items:
         $ref: '#/definitions/MediaSceneForListSchema'
 MediaCommand:
     type: object
     required:
         - media
         - roomId
     properties:
         roomId:
             type: string
         media:
             type: object
             $ref: '#/definitions/MediaAssetSchema'
 Data:
     type: object
 ErrorMessage:
     type: object
     properties:
         message:
             type: string
 ApplyNamedSceneConfig:
     type: object
     properties:
         namedSceneConfig:
             type: string
             description: Apply a named pre-authored scene config for a scene in the playback system.
             required: true
         sceneId:
             type: string
             description: The scene id to apply the named configuration to
             required: true
 ApplySceneConfig:
     type: object
     properties:
         sceneId:
             type: string
             description: the scene id to apply the new config for
             required: true
         name:
             type: string
             required: false
             description: a named scene config is something that can be trigerred from the API, if no name is present, it will become the default.  If multiple non named configs exist, behaviour may be inconsistent
         overrides:
             type: object
             required: false
             properties:
                 timings:
                     type: object
                     description: Update or override scene properties
                     properties:
                         displayDuration:
                             type: number
                             required: false
                         displayInterval:
                             type: number
                             required: false
                         transitionDuration:
                             type: number
                             required: false
                         sceneDuration:
                             type: number
                 constraints:
                     type: object
                     properties:
                         maximumOnScreen:
                             type: object
                             properties:
                                 image:
                                     type: number
                                 video:
                                     type: number
                                 text:
                                     type: number
                                 audio:
                                     type: number
                 semantics:
                     type: object
                     properties:
                         themes:
                             type: array
                             items:
                                 $ref: "#/definitions/ThemeSchema"
         config:
             type: object
             description: A loose format of further available scene changes
             required: false
             properties:
                 visualLayerPriority:
                     type: object
                     properties:
                         visualLayer:
                             type: number
                 audioMixScale:
                     type: object
                     properties:
                         groups:
                             type: array
                             description: Allow a config to author detailed audio mix by using theme like tag statements OR a theme name to specify which audio assets to apply the rescale to
                             items:
                                 type: object
                                 properties:
                                     tagMatch:
                                         type: string
                                         required: false
                                         description: theme like tag statement
                                     theme:
                                         type: string
                                         required: false
                                         description: the theme to use to apply the audio delta to
                                     rescaleFactor:
                                         type: number
                                         description: scale the audio by the factor provided, must be between 0 and 1
                 tagFilter:
                     type: object
                 themeFilter:
                     type: object
                 transitionOptions:
                     type: object
 MaxOnScreenSchema:
     properties:
       audio:
         type: number
         required: false
       image:
         type: number
         required: false
       video:
         type: number
         required: false
       text:
         type: number
         required: false

 VideoMediaObjectSchema:
   properties:
     path:
       type: string
       required: false
     hasTranscoded:
       type: boolean
       required: false
     transcoder:
       type: number
       required: false
     vimeoId:
       type: string
       required: false
     description:
       type: string
       required: false
     uploadedTimestamp:
       type: string
       required: false
     transcodedTimestamp:
       type: string
       required: false
     transcodingStartedTimestamp:
       type: string
       required: false
     video:
       type: mixed
       required: false
     _id:
       type: string
       required: false
 ImageMediaObjectSchema:
   properties:
     path:
       type: string
       required: false
     sceneId:
       type: string
       required: false
     image:
       type: mixed
       required: false
     thumbnail:
       type: mixed
       required: false
     resized:
       type: mixed
       required: false
     _id:
       type: string
       required: false
 AudioMediaObjectSchema:
   properties:
     path:
       type: string
       required: false
     hasTranscoded:
       type: boolean
       required: false
     description:
       type: string
       required: false
     uploadedTimestamp:
       type: string
       required: false
     transcodedTimestamp:
       type: string
       required: false
     transcodingStartedTimestamp:
       type: string
       required: false
     audio:
       type: mixed
       required: false
     _id:
       type: string
       required: false
 MediaSceneSchema:
     properties:
       _id:
         type: string
         required: true
       name:
         type: string
         required: true
       version:
         type: string
         required: false
       maximumOnScreen:
         type: object
         required: false
         $ref: "#/definitions/MaxOnScreenSchema"
       displayDuration:
         type: number
         required: false
       displayInterval:
         type: number
         required: false
       transitionDuration:
         type: number
         required: false
       isLinear:
         type: string
         required: false
       isLinearOptions:
         type: string
         required: false
       forceFullSequencePlayback:
         type: boolean
         required: false
       themes:
         type: array
         required: false
         items:
           $ref: "#/definitions/ThemeSchema"
       style:
         type: mixed
         required: false
       scene:
         type: array
         items:
           $ref: "#/definitions/MediaAssetSchema"

 ThemeSchema:
     properties:
       name:
         type: string
         required: true
       value:
         type: string
         required: true

 MediaAssetSchema:
     properties:
       type:
         type: string
         required: false
       url:
         type: string
         required: false
       style:
         type: mixed
         required: false
       autoreplay:
         type: number
         required: false
       tags:
         type: string
         required: false
       sequenceNumber:
         type: number
         required: false
       cuePointEvents:
         type: array
         items:
           properties:
             timeElapsed:
               type: number
               required: false
             themes:
               type: array
               items:
                 type: object
             _id:
               type: string
               required: false
       text:
         type: string
         required: false
       vmob:
         type: object
         $ref: "#/definitions/VideoMediaObjectSchema"
       imob:
         type: object
         $ref: "#/definitions/ImageMediaObjectSchema"
       amob:
         type: object
         $ref: "#/definitions/AudioMediaObjectSchema"
       _id:
         type: string
         required: false
